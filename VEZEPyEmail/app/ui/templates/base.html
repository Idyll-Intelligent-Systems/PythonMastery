<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>VEZEPyEmail</title>
    <link rel="stylesheet" href="/static/css/email.css" />
  <script src="https://unpkg.com/htmx.org@1.9.12" defer></script>
  </head>
  <body class="theme-futuristic accent-silver">
    {% block content %}{% endblock %}
    <footer style="text-align:center;color:#6b7280;font-size:12px;margin-top:16px;">
      Tip: In dev/CI, actions call the API with access_token=demo. Configure RS256/HS256 for production.
    </footer>
    <script>
    (function(){
      const root = document.body;
      const THEMES = ['theme-dark','theme-light','theme-futuristic'];
      const ACCENTS = ['accent-gold','accent-silver','accent-red','accent-purple','accent-violet','accent-navy','accent-orange'];
      try{ const t = localStorage.getItem('veze_theme'); if(t){ root.classList.remove(...THEMES); root.classList.add(t);} }catch(_){}
      try{ const a = localStorage.getItem('veze_accent'); if(a){ const rm = ACCENTS.filter(c=>root.classList.contains(c)); if(rm.length) root.classList.remove(...rm); root.classList.add(a);} }catch(_){ }
      window.addEventListener('storage', (e)=>{
        if(e.key==='veze_theme' && typeof e.newValue==='string'){
          root.classList.remove(...THEMES); root.classList.add(e.newValue);
        }
        if(e.key==='veze_accent' && typeof e.newValue==='string'){
          const rm = ACCENTS.filter(c=>root.classList.contains(c)); if(rm.length) root.classList.remove(...rm); root.classList.add(e.newValue);
        }
      });
    })();
    </script>
  </body>
  </html>
