{% extends "base.html" %}
{% block content %}
<h2>VEZE Helm â€” Services</h2>
<div class="grid">
  {% for s in services %}
  <div class="card">
    <div class="icon">{{ s.icon or "ðŸ§­" }}</div>
    <div class="title">{{ s.display or s.name }}</div>
    <div class="desc">{{ s.description or '' }}</div>
    {% if s.healthy is defined %}
      <div class="status">
        <span class="dot {{ 'ok' if s.healthy else 'down' }}"></span>
        <span>{{ 'Healthy' if s.healthy else 'Unavailable' }}</span>
        {% if s.requires_auth is defined %}
          <span class="badge {{ 'gated' if s.requires_auth else 'public' }}">{{ 'Auth' if s.requires_auth else 'Public' }}</span>
        {% endif %}
      </div>
    {% endif %}
    <div class="actions" style="display:flex;flex-direction:column;gap:8px;margin-top:10px;">
      <a class="btn" href="{{ s.url }}" target="_blank" rel="noopener">Open</a>
      {% set nm = (s.name or s.display or '')|lower %}
      {% if 'game' in nm %}
        <a class="btn" href="{{ s.url ~ '/ui' }}" target="_blank" rel="noopener">Play Now</a>
      {% elif 'email' in nm %}
        <a class="btn" href="{{ s.url ~ '/ui/inbox' }}" target="_blank" rel="noopener">Open Inbox</a>
      {% elif 'xengine' in nm %}
        <a class="btn" href="{{ s.url }}" target="_blank" rel="noopener">Open Intel</a>
      {% endif %}
    </div>
  </div>
  {% endfor %}
  {% if services|length == 0 %}
  <div class="card">
    <div class="title">No services configured</div>
    <div class="desc">Add entries to config/services.json</div>
  </div>
  {% endif %}
  
</div>
{% endblock %}
