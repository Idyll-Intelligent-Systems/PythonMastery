{% extends "base.html" %}
{% block content %}
<h2>VEZE Helm â€” Services</h2>
<div class="grid">
  {% for s in services %}
  <a class="card" href="{{ s.url }}" target="_blank" rel="noopener">
    <div class="icon">{{ s.icon or "ðŸ§­" }}</div>
    <div class="title">{{ s.display or s.name }}</div>
    <div class="desc">{{ s.description or '' }}</div>
    {% if (s.name and s.name|lower == 'game') or (s.display and 'game' in s.display|lower) %}
      <div style="margin-top:8px;">
        <span class="badge public">Action</span>
        <a class="btn" style="margin-left:8px;" href="{{ s.url ~ '/ui' }}" target="_blank" rel="noopener">Play Now</a>
      </div>
    {% endif %}
    {% if s.healthy is defined %}
      <div class="status">
        <span class="dot {{ 'ok' if s.healthy else 'down' }}"></span>
        <span>{{ 'Healthy' if s.healthy else 'Unavailable' }}</span>
        {% if s.requires_auth is defined %}
          <span class="badge {{ 'gated' if s.requires_auth else 'public' }}">{{ 'Auth' if s.requires_auth else 'Public' }}</span>
        {% endif %}
      </div>
    {% endif %}
  </a>
  {% endfor %}
  {% if services|length == 0 %}
  <div class="card">
    <div class="title">No services configured</div>
    <div class="desc">Add entries to config/services.json</div>
  </div>
  {% endif %}
  
</div>
{% endblock %}
